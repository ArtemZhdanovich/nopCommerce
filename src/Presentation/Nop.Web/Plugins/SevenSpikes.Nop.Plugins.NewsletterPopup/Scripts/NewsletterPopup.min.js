!function(n,o){var i="newsletterSubscribePluginCookie";function c(){n(".newsletter-subscribe-popup-overlay").fadeIn(function(){n.event.trigger({type:"newsletterPopupShownEvent"})})}n(document).ready(function(){!function(){var e=n(".newsletter-subscribe-popup-overlay");if(0!==e.length){var t=e.attr("data-showPopupDelay"),s=e.attr("data-popupOpenerSelector");if(""===o.getCookie(i)&&null!=t){var r=parseInt(t)||0;0<=r&&setTimeout(function(){c()},r)}n(".newsletter-subscribe-popup").on("click",function(e){e.stopPropagation()}),n(document).on("click",s,function(e){e.preventDefault(),c()}),n(".newsletter-subscribe-popup-overlay, .newsletter-subscribe-popup-overlay .close-popup").on("click",function(e){e.preventDefault(),n(".newsletter-subscribe-popup .newsletter-subscribe-popup-checkbox").is(":checked")&&o.setCookie(i,1,5),n(".newsletter-subscribe-popup-overlay").fadeOut()})}}(),function(){function t(e,t){n(".consent-error").hide();var s=t.find(".newsletter-subscribe-text").val(),r=n(".newsletter-gdpr-consent-checkbox");r&&r.is(":checked")?(t.find(".subscribe-loading-progress").show(),n.ajax({cache:!1,type:"POST",url:t.attr("data-newsLetterSubscribeUrl"),data:{subscribe:e,email:s}}).done(function(e){n.ajax({cache:!1,type:"POST",url:t.attr("data-newsLetterLogNewsletterGdprConsentUrl"),data:{email:s}}),t.find(".subscribe-loading-progress").hide(),t.find(".newsletter-result-block").html(e.Result),e.Success?(t.find(".newsletter-subscribe-block").addClass("hidden"),t.find(".newsletter-result-block").show()):t.find(".newsletter-result-block").fadeIn("slow").delay(2e3).fadeOut("slow")}).fail(function(){alert("Failed to subscribe."),t.find(".subscribe-loading-progress").hide()})):n(".consent-error").show()}n(".newsletter-subscribe-popup-overlay .newsletter-subscribe-button").on("click",function(){var e=n(this).closest(".newsletter-subscribe-popup-overlay");"true"===e.attr("data-allowToUnsubscribe").toLowerCase()?e.find(".newsletter_subscribe").is(":checked")?t(!0,e):t(!1,e):t(!0,e)}),n(".newsletter-subscribe-text").keydown(function(e){if(13===e.keyCode)return n(this).closest(".newsletter").find(".newsletter-subscribe-button").click(),!1})}()}),n(window).load(function(){var e=n(".newsletter-subscribe-popup-overlay");if(0!==e.length){var t=e.attr("data-popupOpenerSelector");n(t).off("click")}})}(jQuery,cookieHelper);